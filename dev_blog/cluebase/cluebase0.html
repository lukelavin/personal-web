<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="../blog.css">
    <link rel="shortcut icon" type="image/x-icon" href="../..favicon.ico">
    <script src="https://unpkg.com/zdog@1/dist/zdog.dist.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/zfont/dist/zfont.min.js"></script>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="../gruvbox-highlighting.css">
    <script>hljs.highlightAll();</script>
    <title>Luke Lavin - Home</title>

    <!-- Primary Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Luke Lavin - Home">
    <meta name="description"
        content="Hi! I'm Luke Lavin, and this is my personal website. You can find my projects and contact info here.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lukelav.in/">
    <meta property="og:title" content="Luke Lavin - Home">
    <meta property="og:description"
        content="Hi! I'm Luke Lavin, and this is my personal website. You can find my projects and contact info here.">
    <meta property="og:image" content="https://lukelav.in/card.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://lukelav.in/">
    <meta property="twitter:title" content="Luke Lavin - Home">
    <meta property="twitter:description"
        content="Hi! I'm Luke Lavin, and this is my personal website. You can find my projects and contact info here.">
    <meta property="twitter:image" content="https://lukelav.in/card.png">

</head>

<body>
    <div class="layout-container">

        <div class="sticky">

            <div class="sidebar">
                <div class="home-icon">
                    <svg class="zdog-canvas" width="200" height="120"></svg>
                    <script src="../blog.js"></script>
                    <a class="home-icon-link" href="../../index.html">
                    </a>
                </div>

                <div class="sidebar-nav">
                    <div class="sidebar-list">
                        <div class="sidebar-li"><a class="sidebar-link" href=''>Blog Home</a></div>
                        <div class="article-list">
                            <a class="article-list-link" href="cluebase0.html">
                                <div class="article-list-text">Cluebase - A Case Study</div>
                            </a>
                            <a class="article-list-link" href="cluebase1.html">
                                <div class="article-list-text"> - Part 1: Scraping</div>
                            </a>
                            <a class="article-list-link" href="cluebase2.html">
                                <div class="article-list-text"> - Part 2: Data Load</div>
                            </a>
                            <a class="article-list-link" href="cluebase3.html">
                                <div class="article-list-text"> - Part 3: Automation</div>
                            </a>
                            <a class="article-list-link" href="cluebase4.html">
                                <div class="article-list-text"> - Part 4: Basic API</div>
                            </a>
                            <a class="article-list-link" href="cluebase5.html">
                                <div class="article-list-text"> - Part 5: Basic Front End</div>
                            </a>
                            <a class="article-list-link" href="cluebase6.html">
                                <div class="article-list-text"> - Part 6: A Better Category
                                </div>
                            </a>
                        </div>
                        <div class="nextPrev">
                            <a class="sidebar-link" href=cluebase0.html>
                                <div class="sidebar-li">
                                    < Prev </div>
                            </a>
                            <a class="sidebar-link" href=cluebase1.html>
                                <div class="sidebar-li">
                                    Next >
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="blog-container">
            <div class="blog-title">Cluebase - A Case Study</div>
            <div class="blog-subtitle">by Luke Lavin, published October 30th, 2024</div>
            <hr>
            <div markdown="1" class="blog-content">

                <p>It&#39;s been about 5 years since I created <a href="http://cluebase.lukelav.in">Cluebase</a>, a
                    general-use API for retrieving <i>Jeopardy!</i> data of all sorts--clues, episodes, contestants, and
                    more. Since then, I&#39;ve received more questions, requests, and even success stories (<a
                        href="https://www.youtube.com/watch?v=AKN-SKdbYWo">Congrats, Kate!</a>) than I could have ever
                    expected. I'm always impressed by the internet's ability to help even the most niche projects find
                    their target audience. Thank you to everyone who ever tried it out!</p>

                <p>Unfortunately, Cluebase's usefulness was at times <i>in spite</i> of its own quality (or lack
                    thereof).
                    Since its creation, it has been limited by oversights, incompleteness, and just plain bugs.
                </p>

                <p>Now, years later with a fresh
                    set of eyes and professional
                    experience in data engineering, I'm going to attempt to rebuild Cluebase from the ground-up,
                    to hopefully learn some do's and don'ts and give the project the love it deserves. </p>



                <h2>A vision for Cluebase 2.0</h2>

                <p>Part of what hindered Cluebase's development was this lack of direction and committment. It was just
                    a toy project for practice. Cluebase&#39;s primary purpose was not to be a quality API, or to be
                    useful for general-public
                    consumer application but rather to help me gain some practical software engineering experience
                    during a college summer where I had no internship.
                    At some point, I had an idea of using Cluebase after its creation to build a
                    Jeopardy! practice app. Conveniently, the prospect of developing of this higher-level consumer would
                    provide an opportunity for me to revisit Cluebase and
                    soften its rough edges. This turned a lot of "I should do this better" moments into "I'll save that
                    for later" moments.
                    Then, for one reason or another, that follow-up project fell by the wayside, leaving Cluebase
                    without any updates or improvements since its release. </p>

                <p>If Cluebase was held back by its lack of direction, then it makes sense to start "Cluebase 2.0" with
                    an examination of what exactly it should accomplish:</p>

                <p>
                    <b>Clue data
                        should
                        be the focus of cluebase.</b>
                    Ideally, Cluebase is useful as a source-of-truth for Jeopardy clues. If supplementary data like
                    episode and contestants are to be
                    accessible at
                    all, they should be only where it doesn't complicate maintaining good clue data.
                </p>

                <p>
                    <b>Maintenance of Cluebase should be simple.</b>
                    It is likely that this project could fall to
                    the wayside for years yet again. The project needs to be positioned to need little intervention and,
                    in the case of necessary intervention, to be easy to jump back into at any moment.
                    Infrastructure setup should be scripted/containerized
                    where possible. Design should be documented (more simply than a wordy blog post &#128566). All
                    processes should have robust error handling and recovery. Ingestion and transformation of new data
                    should be automated, transparent, and modular--when working properly it should be
                    hands off, and when it fails it should be easy to pick back up at the point of failure. APIs should
                    be versioned so changes can be deployed without breaking consumer services. Code should be
                    open-source for committed users to maintain Cluebase for their own personal use in my absence.
                </p>

                <p><b>Clients (human users or other services) should be able to easily use Cluebase to get clues for
                        targeted research or practice</b>. The primary application of Cluebase should be retrieving
                    clues by category and or by difficulty.
                    Additional, more client-tailored applications of the clue data are to be
                    expected, but should be handled as a secondary data layer on top of the base level clue data, with
                    processes and concerns separate from the base data processing. The base Cluebase processing should,
                    however, do its best to not complicate such processes.
                </p>

                <p><b>Cluebase data should be useful for
                        training/tuning natural language models, or doing other machine-learning-tailored tasks.</b>
                    Jeopardy's
                    hundreds of thousands of question/answer pairs should be made useful even beyond the scope of trivia
                    games. It should be possible to export the cluebase dataset in a practical format for ML use cases.
                </p>

                <p><b>Cluebase should utilize tools that, all else being equal, are used in the industry.</b> Although I
                    still want to keep the project uncomplicated and its upkeep straightforward, I would still like to
                    be gaining experience I can talk about, be it on a resume, in interviews, or even on this blog.
                    Plus, it's just more fun for me if I get to learn new technology along the way. &#128517;</p>

                <h2>Moving from 1.0 to 2.0</h2>

                <p>
                    So, if that's what 2.0 should look like, how do I get there from 1.0?
                </p>
                <p>
                    Well to start, we should look at Cluebase 1.0's implementation and capabilities.
                </p>

                <img src="img/cluebase1-diagram.svg" alt="An simplified architecture diagram of Cluebase 1.0"
                    class="fullwidth-image" />

                <p>
                    Cluebase 1.0 was an API offering alone. Cluebase was separate from the scraping process, and did not
                    offer any user-facing app to consume the API.
                </p>

                <p>
                    The entire project was entirely contained in an EC2 instance, composed (pun-intended) of 4 docker
                    images--the Flask service, PostgresQL, Redis, and nginx. The deployment was done by running
                    now-defunct docker machine commands on my local machine with latest changes.
                </p>

                <p>
                    Even beyond that, the J! Archive scraping was done only once ahead of time. Clues were scraped once
                    to load into a local database, then the database image was created pre-loaded with the local data.
                </p>

                <p>
                    Although several users reported that they were able to use
                    it to practice trivia, users who did had to write their own consumers, ranging from command line
                    tools to discord bots.
                </p>

                <p>
                    For a inexperienced developer, this format allowed me to focus just on the API development. However,
                    the missing pieces here mean there's a decent amount of work to do to upgrade Cluebase to its full
                    potential and support its continued existence. Thankfully, it also means that there's a lot of
                    development to write about, so let's get started!
                </p>

            </div>
        </div>
    </div>
</body>